<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - NombreProyecto</title>
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <style>
    #timer-box {
        position: fixed;
        top: 20px;
        right: 20px;
        background-color: #222;
        color: #fff;
        padding: 10px 15px;
        border-radius: 10px;
        font-family: 'Courier New', monospace;
        font-size: 1.5rem;
        z-index: 9999;
        box-shadow: 0 0 10px rgba(0,0,0,0.5);
    }
</style>


</head>

<body>
    <div id="timer-box">
    <span id="timer">00:00</span>
</div>

<div>
  
    <main role="main">
        @RenderBody()
    </main>



    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.min.js" integrity="sha384-RuyvpeZCxMJCqVUGFI0Do1mQrods/hhxYlcVfGPOfQtPJh0JCw12tUAZ/Mv10S7D" crossorigin="anonymous"></script>
    @await RenderSectionAsync("Scripts", required: false)
    <script>
    const STORAGE_KEY = "tiempoSalaEscape";
    let segundosTranscurridos = parseInt(localStorage.getItem(STORAGE_KEY)) || 0;

    function actualizarTimer() {
        const minutos = Math.floor(segundosTranscurridos / 60).toString().padStart(2, '0');
        const segundos = (segundosTranscurridos % 60).toString().padStart(2, '0');
        document.getElementById('timer').innerText = `${minutos}:${segundos}`;
        segundosTranscurridos++;
        localStorage.setItem(STORAGE_KEY, segundosTranscurridos);
    }

    setInterval(actualizarTimer, 1000);
    actualizarTimer();
</script>

</body>

</html>
